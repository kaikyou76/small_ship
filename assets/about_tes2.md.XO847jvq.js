import{_ as d,c as e,o,ae as r}from"./chunks/framework.4ukD4ZLJ.js";const u=JSON.parse('{"title":"設計男さんの API 設計","description":"","frontmatter":{},"headers":[],"relativePath":"about/tes2.md","filePath":"about/tes2.md"}'),a={name:"about/tes2.md"};function c(h,t,i,l,s,b){return o(),e("div",null,t[0]||(t[0]=[r('<h1 id="設計男さんの-api-設計" tabindex="-1">設計男さんの API 設計 <a class="header-anchor" href="#設計男さんの-api-設計" aria-label="Permalink to &quot;設計男さんの API 設計&quot;">​</a></h1><p>もちろんです！<br> このスキーマをベースに、機能をすべて網羅した**RESTful API 設計書（エンドポイント一覧）**をお渡しします。<br> 構造は以下のカテゴリに分けて整理しています：</p><hr><h1 id="✅-api-一覧-api-配下と想定" tabindex="-1">✅ API 一覧（<code>/api/</code>配下と想定） <a class="header-anchor" href="#✅-api-一覧-api-配下と想定" aria-label="Permalink to &quot;✅ API 一覧（`/api/`配下と想定）&quot;">​</a></h1><h2 id="_1-🔐-認証系" tabindex="-1">1. 🔐 認証系 <a class="header-anchor" href="#_1-🔐-認証系" aria-label="Permalink to &quot;1. 🔐 認証系&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/auth/register</code></td><td>新規ユーザー登録（email, password, name）</td></tr><tr><td><code>POST</code></td><td><code>/auth/login</code></td><td>ログイン、トークン発行</td></tr><tr><td><code>POST</code></td><td><code>/auth/logout</code></td><td>ログアウト（トークン無効化）</td></tr><tr><td><code>GET</code></td><td><code>/auth/me</code></td><td>ログインユーザー情報取得（トークン必須）</td></tr></tbody></table><hr><h2 id="_2-👤-ユーザー管理" tabindex="-1">2. 👤 ユーザー管理 <a class="header-anchor" href="#_2-👤-ユーザー管理" aria-label="Permalink to &quot;2. 👤 ユーザー管理&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/users/:id</code></td><td>ユーザー情報取得（管理者のみ）</td></tr><tr><td><code>GET</code></td><td><code>/users</code></td><td>全ユーザー一覧（管理者のみ）</td></tr><tr><td><code>PUT</code></td><td><code>/users/:id</code></td><td>ユーザー情報更新（本人 or 管理者）</td></tr><tr><td><code>DELETE</code></td><td><code>/users/:id</code></td><td>ユーザー削除（管理者）</td></tr></tbody></table><hr><h2 id="_3-🛒-商品-products" tabindex="-1">3. 🛒 商品（Products） <a class="header-anchor" href="#_3-🛒-商品-products" aria-label="Permalink to &quot;3. 🛒 商品（Products）&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/products</code></td><td>商品一覧（検索、カテゴリ、タグなどでフィルタ）</td></tr><tr><td><code>GET</code></td><td><code>/products/:id</code></td><td>商品詳細（画像・レビュー含む）</td></tr><tr><td><code>POST</code></td><td><code>/products</code></td><td>商品作成（管理者）</td></tr><tr><td><code>PUT</code></td><td><code>/products/:id</code></td><td>商品更新（管理者）</td></tr><tr><td><code>DELETE</code></td><td><code>/products/:id</code></td><td>商品削除（管理者）</td></tr></tbody></table><hr><h2 id="_4-🖼️-商品画像" tabindex="-1">4. 🖼️ 商品画像 <a class="header-anchor" href="#_4-🖼️-商品画像" aria-label="Permalink to &quot;4. 🖼️ 商品画像&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/products/:id/images</code></td><td>画像アップロード（メイン/追加画像）</td></tr><tr><td><code>DELETE</code></td><td><code>/images/:id</code></td><td>画像削除（管理者）</td></tr></tbody></table><hr><h2 id="_5-🏷️-タグ" tabindex="-1">5. 🏷️ タグ <a class="header-anchor" href="#_5-🏷️-タグ" aria-label="Permalink to &quot;5. 🏷️ タグ&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/tags</code></td><td>タグ一覧</td></tr><tr><td><code>POST</code></td><td><code>/tags</code></td><td>タグ作成（管理者）</td></tr><tr><td><code>POST</code></td><td><code>/products/:id/tags</code></td><td>商品にタグ付け（管理者）</td></tr><tr><td><code>DELETE</code></td><td><code>/products/:id/tags/:tag_id</code></td><td>商品のタグ解除（管理者）</td></tr></tbody></table><hr><h2 id="_6-📂-カテゴリ" tabindex="-1">6. 📂 カテゴリ <a class="header-anchor" href="#_6-📂-カテゴリ" aria-label="Permalink to &quot;6. 📂 カテゴリ&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/categories</code></td><td>全カテゴリ一覧（階層構造対応）</td></tr><tr><td><code>POST</code></td><td><code>/categories</code></td><td>カテゴリ作成（管理者）</td></tr><tr><td><code>PUT</code></td><td><code>/categories/:id</code></td><td>カテゴリ名変更（管理者）</td></tr><tr><td><code>DELETE</code></td><td><code>/categories/:id</code></td><td>カテゴリ削除（管理者）</td></tr></tbody></table><hr><h2 id="_7-🛍️-カート" tabindex="-1">7. 🛍️ カート <a class="header-anchor" href="#_7-🛍️-カート" aria-label="Permalink to &quot;7. 🛍️ カート&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/cart</code></td><td>カート取得（ログイン or セッション）</td></tr><tr><td><code>POST</code></td><td><code>/cart</code></td><td>カートに商品追加</td></tr><tr><td><code>PUT</code></td><td><code>/cart/:item_id</code></td><td>数量変更</td></tr><tr><td><code>DELETE</code></td><td><code>/cart/:item_id</code></td><td>商品削除</td></tr></tbody></table><hr><h2 id="_8-📦-注文" tabindex="-1">8. 📦 注文 <a class="header-anchor" href="#_8-📦-注文" aria-label="Permalink to &quot;8. 📦 注文&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/orders</code></td><td>注文確定（カートから生成）</td></tr><tr><td><code>GET</code></td><td><code>/orders</code></td><td>自分の注文一覧（ログインユーザー）</td></tr><tr><td><code>GET</code></td><td><code>/orders/:id</code></td><td>注文詳細（本人 or 管理者）</td></tr><tr><td><code>PUT</code></td><td><code>/orders/:id/status</code></td><td>ステータス更新（管理者）</td></tr></tbody></table><hr><h2 id="_9-✍️-レビュー" tabindex="-1">9. ✍️ レビュー <a class="header-anchor" href="#_9-✍️-レビュー" aria-label="Permalink to &quot;9. ✍️ レビュー&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/products/:id/reviews</code></td><td>レビュー投稿（1 商品 1 回）</td></tr><tr><td><code>GET</code></td><td><code>/products/:id/reviews</code></td><td>商品のレビュー一覧</td></tr><tr><td><code>DELETE</code></td><td><code>/reviews/:id</code></td><td>レビュー削除（本人 or 管理者）</td></tr></tbody></table><hr><h2 id="_10-💖-お気に入り" tabindex="-1">10. 💖 お気に入り <a class="header-anchor" href="#_10-💖-お気に入り" aria-label="Permalink to &quot;10. 💖 お気に入り&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/wishlists</code></td><td>自分のお気に入り商品一覧</td></tr><tr><td><code>POST</code></td><td><code>/wishlists/:product_id</code></td><td>商品をお気に入りに追加</td></tr><tr><td><code>DELETE</code></td><td><code>/wishlists/:product_id</code></td><td>商品をお気に入りから削除</td></tr></tbody></table><hr><h2 id="_11-📝-管理ログ-admin-logs" tabindex="-1">11. 📝 管理ログ（Admin Logs） <a class="header-anchor" href="#_11-📝-管理ログ-admin-logs" aria-label="Permalink to &quot;11. 📝 管理ログ（Admin Logs）&quot;">​</a></h2><table tabindex="0"><thead><tr><th>メソッド</th><th>エンドポイント</th><th>内容</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/admin/logs</code></td><td>操作ログ一覧（管理者）</td></tr><tr><td><code>POST</code></td><td><code>/admin/logs</code></td><td>操作記録（自動記録 or 管理者処理時）</td></tr></tbody></table><hr><h1 id="🔐-認証・認可" tabindex="-1">🔐 認証・認可 <a class="header-anchor" href="#🔐-認証・認可" aria-label="Permalink to &quot;🔐 認証・認可&quot;">​</a></h1><ul><li>JWT ベースの認証（トークン）</li><li>管理者用 API は <code>role = &#39;admin&#39;</code> をチェック</li><li>ゲスト（session_id）対応のエンドポイントは <code>cart</code>, <code>products</code> など一部のみ</li></ul><hr><h1 id="✅-まとめ" tabindex="-1">✅ まとめ <a class="header-anchor" href="#✅-まとめ" aria-label="Permalink to &quot;✅ まとめ&quot;">​</a></h1><p>この API 設計で、以下を完全にカバーできます：</p><ul><li>一般ユーザーのすべての操作（閲覧、購入、レビュー、お気に入り）</li><li>管理者の操作（商品・カテゴリ・画像・ログなど）</li><li>ゲスト対応（カート保持など）</li></ul><hr><p>必要であれば、各 API エンドポイントごとの<strong>リクエスト/レスポンス例</strong>、<strong>OpenAPI (Swagger) 形式</strong>, <strong>Cloudflare Workers 向けルーティング構造</strong>などもご提供できます！</p><p>どこまでドキュメント化・実装化しましょうか？</p>',46)]))}const P=d(a,[["render",c]]);export{u as __pageData,P as default};
