import{_ as d,c as r,o as e,ae as o}from"./chunks/framework.Bt0T77vy.js";const T=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"about/tes6.md","filePath":"about/tes6.md"}'),i={name:"about/tes6.md"};function a(s,t,_,u,h,l){return e(),r("div",null,t[0]||(t[0]=[o('<p>以下に、提供されたスキーマを各テーブルごとに説明します。フォーマットは指定通りに統一しています。</p><blockquote><p>💬 ユーザー（users）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK, auto increment</td></tr><tr><td>email</td><td>TEXT</td><td>Unique, Not null</td></tr><tr><td>password_hash</td><td>TEXT</td><td>ハッシュ化されたパスワード</td></tr><tr><td>name</td><td>TEXT</td><td>Optional</td></tr><tr><td>role</td><td>TEXT</td><td>ユーザーロール（&#39;user&#39; or &#39;admin&#39;）、デフォルト &#39;user&#39;</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr></tbody></table><blockquote><p>💬 セッション（sessions）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>user_id</td><td>INTEGER</td><td>FK → users(id)</td></tr><tr><td>session_token</td><td>TEXT</td><td>Unique</td></tr><tr><td>expires_at</td><td>DATETIME</td><td>セッション有効期限</td></tr><tr><td>user_agent</td><td>TEXT</td><td>ユーザーエージェント情報（オプション）</td></tr><tr><td>ip_address</td><td>TEXT</td><td>IPアドレス（オプション）</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr></tbody></table><blockquote><p>💬 カテゴリ（categories）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>name</td><td>TEXT</td><td>Not null</td></tr><tr><td>parent_id</td><td>INTEGER</td><td>親カテゴリID（nullなら大分類）</td></tr><tr><td></td><td></td><td>FK → categories(id)（自己参照）</td></tr></tbody></table><blockquote><p>💬 商品（products）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>name</td><td>TEXT</td><td>NOT NULL</td></tr><tr><td>description</td><td>TEXT</td><td>商品説明</td></tr><tr><td>price</td><td>INTEGER</td><td>NOT NULL（単位：円など）</td></tr><tr><td>stock</td><td>INTEGER</td><td>在庫数（デフォルト0）</td></tr><tr><td>category_id</td><td>INTEGER</td><td>FK → categories(id)</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr></tbody></table><blockquote><p>💬 商品FTS（products_fts）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>rowid</td><td>INTEGER</td><td>products.idと同期</td></tr><tr><td>name</td><td>TEXT</td><td>全文検索用（products.name）</td></tr><tr><td>description</td><td>TEXT</td><td>全文検索用（products.description）</td></tr></tbody></table><blockquote><p>💬 商品画像（images）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>product_id</td><td>INTEGER</td><td>FK → products.id</td></tr><tr><td>image_url</td><td>TEXT</td><td>Not null</td></tr><tr><td>alt_text</td><td>TEXT</td><td>代替テキスト（アクセシビリティ対応）</td></tr><tr><td>is_main</td><td>BOOLEAN</td><td>メイン画像フラグ（デフォルト0）</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr></tbody></table><blockquote><p>💬 タグ（tags）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>name</td><td>TEXT</td><td>Not null, Unique</td></tr></tbody></table><blockquote><p>💬 商品タグ（product_tags）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>product_id</td><td>INTEGER</td><td>FK → products(id)</td></tr><tr><td>tag_id</td><td>INTEGER</td><td>FK → tags(id)</td></tr><tr><td></td><td></td><td>複合PK</td></tr></tbody></table><blockquote><p>💬 カートアイテム（cart_items）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>user_id</td><td>INTEGER</td><td>FK → users(id)（null可）</td></tr><tr><td>session_id</td><td>TEXT</td><td>ゲスト用セッションID（null可）</td></tr><tr><td>product_id</td><td>INTEGER</td><td>FK → products(id)</td></tr><tr><td>quantity</td><td>INTEGER</td><td>デフォルト1</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr><tr><td></td><td></td><td>UNIQUE(user_id, product_id)またはUNIQUE(session_id, product_id)</td></tr></tbody></table><blockquote><p>💬 注文（orders）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>user_id</td><td>INTEGER</td><td>FK → users(id)</td></tr><tr><td>total_price</td><td>INTEGER</td><td>Not null</td></tr><tr><td>status</td><td>TEXT</td><td>デフォルト&#39;pending&#39;</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr></tbody></table><blockquote><p>💬 注文アイテム（order_items）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>order_id</td><td>INTEGER</td><td>FK → orders(id)</td></tr><tr><td>product_id</td><td>INTEGER</td><td>FK → products(id)</td></tr><tr><td>quantity</td><td>INTEGER</td><td>Not null</td></tr><tr><td>price_at_purchase</td><td>INTEGER</td><td>購入時の価格（履歴保存用）</td></tr></tbody></table><blockquote><p>💬 レビュー（reviews）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>user_id</td><td>INTEGER</td><td>FK → users(id)</td></tr><tr><td>product_id</td><td>INTEGER</td><td>FK → products(id)</td></tr><tr><td>rating</td><td>INTEGER</td><td>1〜5の評価</td></tr><tr><td>comment</td><td>TEXT</td><td>オプション</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr><tr><td></td><td></td><td>UNIQUE(user_id, product_id)</td></tr></tbody></table><blockquote><p>💬 お気に入り（wishlists）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>user_id</td><td>INTEGER</td><td>FK → users(id)</td></tr><tr><td>product_id</td><td>INTEGER</td><td>FK → products(id)</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr><tr><td></td><td></td><td>UNIQUE(user_id, product_id)</td></tr></tbody></table><blockquote><p>💬 管理ログ（admin_logs）</p></blockquote><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Notes</th></tr></thead><tbody><tr><td>id</td><td>INTEGER</td><td>PK</td></tr><tr><td>admin_id</td><td>INTEGER</td><td>FK → users(id)</td></tr><tr><td>action</td><td>TEXT</td><td>実行されたアクション（例: &#39;create_product&#39;）</td></tr><tr><td>target_type</td><td>TEXT</td><td>対象タイプ（例: &#39;product&#39;）</td></tr><tr><td>target_id</td><td>INTEGER</td><td>対象ID</td></tr><tr><td>description</td><td>TEXT</td><td>オプション</td></tr><tr><td>created_at</td><td>DATETIME</td><td>Default now</td></tr></tbody></table><blockquote><p>💬 インデックス</p></blockquote><table tabindex="0"><thead><tr><th>Index名</th><th>対象テーブル・カラム</th></tr></thead><tbody><tr><td>idx_users_email</td><td>users(email)</td></tr><tr><td>idx_products_name</td><td>products(name)</td></tr><tr><td>idx_products_description</td><td>products(description)</td></tr><tr><td>idx_products_category_id</td><td>products(category_id)</td></tr><tr><td>idx_images_product_id</td><td>images(product_id)</td></tr><tr><td>idx_product_tags_tag_id</td><td>product_tags(tag_id)</td></tr><tr><td>idx_product_tags_product_id</td><td>product_tags(product_id)</td></tr><tr><td>idx_cart_items_user_id</td><td>cart_items(user_id)</td></tr><tr><td>idx_cart_items_session</td><td>cart_items(session_id)</td></tr><tr><td>idx_orders_user_id</td><td>orders(user_id)</td></tr><tr><td>idx_orders_status</td><td>orders(status)</td></tr><tr><td>idx_order_items_order_id</td><td>order_items(order_id)</td></tr><tr><td>idx_sessions_user_id</td><td>sessions(user_id)</td></tr><tr><td>idx_categories_parent_id</td><td>categories(parent_id)</td></tr><tr><td>idx_reviews_user_id</td><td>reviews(user_id)</td></tr><tr><td>idx_reviews_product_id</td><td>reviews(product_id)</td></tr><tr><td>idx_wishlists_user_id</td><td>wishlists(user_id)</td></tr><tr><td>idx_admin_logs_admin_id</td><td>admin_logs(admin_id)</td></tr></tbody></table>',31)]))}const c=d(i,[["render",a]]);export{T as __pageData,c as default};
